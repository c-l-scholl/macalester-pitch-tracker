(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[225],{5139:function(e,t,s){Promise.resolve().then(s.bind(s,8304))},8304:function(e,t,s){"use strict";s.d(t,{default:function(){return ei}});var l=s(7437),r=s(2265),a=s(1014),n=s(9343),c=s(9772),i=s(495),d=s(6661),o=s(3102),u=s(8149);function x(...e){return r.useCallback(function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(...e),e)}var m=s(8324);s(4887);var h=s(3355),f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let s=r.forwardRef((e,s)=>{let{asChild:r,...a}=e,n=r?h.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n,{...a,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),p=s(1543),j=s(1715),v=s(7513),y=s(5238),N=s(7250),g=s(2297),b="Radio",[w,C]=(0,m.b)(b),[I,R]=w(b),P=r.forwardRef((e,t)=>{let{__scopeRadio:s,name:a,checked:n=!1,required:c,disabled:i,value:d="on",onCheck:o,...m}=e,[h,p]=r.useState(null),j=x(t,e=>p(e)),v=r.useRef(!1),y=!h||!!h.closest("form");return(0,l.jsxs)(I,{scope:s,checked:n,disabled:i,children:[(0,l.jsx)(f.button,{type:"button",role:"radio","aria-checked":n,"data-state":J(n),"data-disabled":i?"":void 0,disabled:i,value:d,...m,ref:j,onClick:(0,u.M)(e.onClick,e=>{n||null==o||o(),y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),y&&(0,l.jsx)(S,{control:h,bubbles:!v.current,name:a,value:d,checked:n,required:c,disabled:i,style:{transform:"translateX(-100%)"}})]})});P.displayName=b;var k="RadioIndicator",F=r.forwardRef((e,t)=>{let{__scopeRadio:s,forceMount:r,...a}=e,n=R(k,s);return(0,l.jsx)(g.z,{present:r||n.checked,children:(0,l.jsx)(f.span,{"data-state":J(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})})});F.displayName=k;var S=e=>{let{control:t,checked:s,bubbles:a=!0,...n}=e,c=r.useRef(null),i=(0,N.D)(s),d=(0,y.t)(t);return r.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==s&&t){let l=new Event("click",{bubbles:a});t.call(e,s),e.dispatchEvent(l)}},[i,s,a]),(0,l.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function J(e){return e?"checked":"unchecked"}var E=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],H="RadioGroup",[X,B]=(0,m.b)(H,[p.Pc,C]),T=(0,p.Pc)(),D=C(),[z,V]=X(H),L=r.forwardRef((e,t)=>{let{__scopeRadioGroup:s,name:r,defaultValue:a,value:n,required:c=!1,disabled:i=!1,orientation:d,dir:o,loop:u=!0,onValueChange:x,...m}=e,h=T(s),y=(0,v.gm)(o),[N,g]=(0,j.T)({prop:n,defaultProp:a,onChange:x});return(0,l.jsx)(z,{scope:s,name:r,required:c,disabled:i,value:N,onValueChange:g,children:(0,l.jsx)(p.fC,{asChild:!0,...h,orientation:d,dir:y,loop:u,children:(0,l.jsx)(f.div,{role:"radiogroup","aria-required":c,"aria-orientation":d,"data-disabled":i?"":void 0,dir:y,...m,ref:t})})})});L.displayName=H;var G="RadioGroupItem",M=r.forwardRef((e,t)=>{let{__scopeRadioGroup:s,disabled:a,...n}=e,c=V(G,s),i=c.disabled||a,d=T(s),o=D(s),m=r.useRef(null),h=x(t,m),f=c.value===n.value,j=r.useRef(!1);return r.useEffect(()=>{let e=e=>{E.includes(e.key)&&(j.current=!0)},t=()=>j.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,l.jsx)(p.ck,{asChild:!0,...d,focusable:!i,active:f,children:(0,l.jsx)(P,{disabled:i,required:c.required,checked:f,...o,...n,name:c.name,ref:h,onCheck:()=>c.onValueChange(n.value),onKeyDown:(0,u.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,u.M)(n.onFocus,()=>{var e;j.current&&(null===(e=m.current)||void 0===e||e.click())})})})});M.displayName=G;var O=r.forwardRef((e,t)=>{let{__scopeRadioGroup:s,...r}=e,a=D(s);return(0,l.jsx)(F,{...a,...r,ref:t})});O.displayName="RadioGroupIndicator";var _=s(8165),q=s(7440);let K=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)(L,{className:(0,q.cn)("grid gap-2",s),...r,ref:t})});K.displayName=L.displayName;let U=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)(M,{ref:t,className:(0,q.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,l.jsx)(O,{className:"flex items-center justify-center",children:(0,l.jsx)(_.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});U.displayName=M.displayName;var A=s(9842),W=s(2278),Z=s(5657);let Y=c.z.object({batterHand:c.z.enum(["Left","Right"],{required_error:"You need to select a batter handedness."}),velocity:c.z.number({required_error:"You need to enter a velocity."}),pitchType:c.z.enum(["FB","2S","CH","SL","CB","Other"],{required_error:"You need to select a pitch type."}),contact:c.z.enum(["Ball","Strike","Foul","Out","H","2B","3B","HR"],{required_error:"You need to select a result."})}),Q=e=>{let{setIsLoading:t,selectedPitch:s,isChanging:c,onOpenChange:u,selectedPitcherName:x}=e,{toast:m}=(0,Z.pm)(),h=(0,n.cI)({resolver:(0,a.F)(Y),defaultValues:{batterHand:"Right",velocity:50,pitchType:"FB",contact:"Ball"}});(0,r.useEffect)(()=>{s?h.reset({batterHand:s.batterHand,pitchType:s.pitchType,velocity:s.velocity,contact:s.result}):(h.resetField("pitchType",{defaultValue:"FB"}),h.resetField("velocity",{defaultValue:50}),h.resetField("contact",{defaultValue:"Ball"}))},[c,s,h]);let f=async e=>{let l=(0,A.hJ)(W.db,"pitches");if(t(!0),c)try{if(null!==s){let t=(0,A.JU)(W.db,"pitches",null==s?void 0:s.id);await (0,A.pl)(t,{batterHand:e.batterHand,pitchType:e.pitchType,velocity:e.velocity,result:e.contact},{merge:!0}),m({description:"Pitch updated successfully"})}}catch(e){m({title:"Uh oh! Something went wrong.",description:"There was a problem with your pitch update attempt. Please try again.",variant:"destructive"})}else try{var r;await (0,A.ET)(l,{batterHand:e.batterHand,fullName:x,pitchDate:A.EK.fromDate(new Date),pitchType:e.pitchType,velocity:e.velocity,result:e.contact,userId:null===W.I8||void 0===W.I8?void 0:null===(r=W.I8.currentUser)||void 0===r?void 0:r.email}),m({description:"Pitch added successfully."})}catch(e){m({title:"Uh oh! Something went wrong.",description:"There was a problem with your pitch submission attempt. Please try again.",variant:"destructive"})}t(!1),u(!1),h.resetField("pitchType",{defaultValue:"FB"}),h.resetField("velocity",{defaultValue:50}),h.resetField("contact",{defaultValue:"Ball"})};return(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsx)(d.l0,{...h,children:(0,l.jsxs)("form",{onSubmit:h.handleSubmit(f),className:"space-y-8",children:[(0,l.jsx)(d.Wi,{control:h.control,name:"batterHand",render:e=>{let{field:t}=e;return(0,l.jsxs)(d.xJ,{children:[(0,l.jsx)(d.lX,{children:"Batter Handedness"}),(0,l.jsx)(d.NI,{children:(0,l.jsxs)(K,{onValueChange:t.onChange,value:t.value,className:"flex flex-col space-y-1",children:[(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"Right"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Right-Handed"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"Left"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Left-Handed"})]})]})}),(0,l.jsx)(d.zG,{})]})}}),(0,l.jsx)(d.Wi,{control:h.control,name:"velocity",render:e=>{let{field:t}=e;return(0,l.jsxs)(d.xJ,{children:[(0,l.jsx)(d.lX,{children:"Velocity"}),(0,l.jsx)(d.NI,{children:(0,l.jsx)(o.I,{type:"number",min:50,max:110,placeholder:"In mph",...t,onChange:e=>t.onChange(+e.target.value)})}),(0,l.jsx)(d.zG,{})]})}}),(0,l.jsx)(d.Wi,{control:h.control,name:"pitchType",render:e=>{let{field:t}=e;return(0,l.jsxs)(d.xJ,{children:[(0,l.jsx)(d.lX,{children:"Pitch Type"}),(0,l.jsx)(d.NI,{children:(0,l.jsxs)(K,{onValueChange:t.onChange,value:t.value,className:"flex flex-row space-x-2",children:[(0,l.jsxs)("div",{className:"flex-col space-y-2",children:[(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"FB"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"4-seam FB"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"2S"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"2-seam FB"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"CH"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Change-up"})]})]}),(0,l.jsxs)("div",{className:"flex-col space-y-2",children:[(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"SL"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Slider"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"CB"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Curveball"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"Other"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Other"})]})]})]})}),(0,l.jsx)(d.zG,{})]})}}),(0,l.jsx)(d.Wi,{control:h.control,name:"contact",render:e=>{let{field:t}=e;return(0,l.jsxs)(d.xJ,{children:[(0,l.jsx)(d.lX,{children:"Result"}),(0,l.jsx)(d.NI,{children:(0,l.jsxs)(K,{onValueChange:t.onChange,value:t.value,className:"flex flex-row space-x-2",children:[(0,l.jsxs)("div",{className:"flex-col space-y-2",children:[(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"Ball"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Ball"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"Strike"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Strike"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"Foul"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Foul"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"Out"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Out"})]})]}),(0,l.jsxs)("div",{className:"flex-col space-y-2",children:[(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"H"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Single"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"2B"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Double"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"3B"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Triple"})]}),(0,l.jsxs)(d.xJ,{className:"flex items-center space-x-3 space-y-0",children:[(0,l.jsx)(d.NI,{children:(0,l.jsx)(U,{value:"HR"})}),(0,l.jsx)(d.lX,{className:"font-normal",children:"Homerun"})]})]})]})}),(0,l.jsx)(d.zG,{})]})}}),(0,l.jsxs)("div",{className:"flex flex-row gap-3",children:[c&&(0,l.jsx)(i.z,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,l.jsx)(i.z,{type:"submit",children:"Submit"})]})]})})})};var $=s(6908);let ee=e=>{let{onEdit:t,onDelete:s}=e;return[{accessorKey:"fullName",header:"Pitcher"},{accessorKey:"batterHand",header:"Batter"},{accessorKey:"velocity",header:"Velocity",cell:e=>{let{row:t}=e,s=parseFloat(t.getValue("velocity"));return(0,l.jsx)("div",{className:"text-left font-medium",children:"".concat(s," mph")})}},{accessorKey:"pitchType",header:"Pitch"},{accessorKey:"result",header:"Result"},{id:"actions",cell:e=>{let{row:r}=e;return(0,l.jsx)($.Z,{row:r,onEdit:t,onDelete:s})}}]};var et=s(3514),es=s(4175),el=s(6975),er=e=>{var t;let{columns:s,data:r}=e,a=(0,et.b7)({data:r,columns:s,getCoreRowModel:(0,es.sC)(),getPaginationRowModel:(0,es.G_)()});return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"rounded-md border",children:(0,l.jsxs)(el.iA,{children:[(0,l.jsx)(el.xD,{children:a.getHeaderGroups().map(e=>(0,l.jsx)(el.SC,{children:e.headers.map(e=>(0,l.jsx)(el.ss,{children:e.isPlaceholder?null:(0,et.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,l.jsx)(el.RM,{children:(null===(t=a.getRowModel().rows)||void 0===t?void 0:t.length)?a.getRowModel().rows.map(e=>(0,l.jsx)(el.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,l.jsx)(el.pj,{children:(0,et.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,l.jsx)(el.SC,{children:(0,l.jsx)(el.pj,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>a.previousPage(),disabled:!a.getCanPreviousPage(),children:"Previous"}),(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>a.nextPage(),disabled:!a.getCanNextPage(),children:"Next"})]})]})},ea=s(5255),en=s(8983),ec=s(4982),ei=()=>{let{toast:e}=(0,Z.pm)(),[t,s]=(0,r.useState)(!1),[a,n]=(0,r.useState)([]),[c,i]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[u,x]=(0,r.useState)(""),m=e=>{i(!1),e||o(null)},h=ee({onEdit:e=>{o(e),i(!0)},onDelete:async t=>{s(!0),m(!1);try{if(void 0!=t.id){let s=(0,A.JU)(W.db,"pitches",t.id);await (0,A.oe)(s),e({description:"Pitch deleted successfully"})}}catch(t){e({title:"Uh oh! Something went wrong.",description:"There was a problem with your pitch deletion attempt. Please try again.",variant:"destructive"})}}});return(0,r.useEffect)(()=>{let e=(0,ec.Z)(u,new Date,e=>{n(e.docs.map(e=>({...e.data(),id:e.id})))});return()=>e()},[t,u]),(0,l.jsxs)("div",{className:"flex min-w-screen",children:[(0,l.jsx)("div",{className:"flex-none",children:(0,l.jsxs)("div",{className:"flex flex-col gap-3 w-[400px] min-w-[250px] border-r min-h-screen max-h-screen px-16 py-4",children:[(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)("h1",{className:"mb-2 text-xl font-bold",children:d?"Change Pitch":"New Pitch"})}),(0,l.jsx)(en.Z,{setSelectedPitcherName:x}),(0,l.jsx)(Q,{setIsLoading:s,isChanging:c,selectedPitch:d,onOpenChange:m,selectedPitcherName:u})]})}),(0,l.jsxs)("div",{className:"flex-grow p-4 mx-4",children:[(0,l.jsxs)("div",{className:"flex flex-row justify-between items-center mb-2",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold ",children:"Pitch Data"}),(0,l.jsx)(ea.Z,{pitchCount:a.length})]}),t&&(0,l.jsx)("span",{children:"Loading"}),!t&&(0,l.jsx)(er,{columns:h,data:a})]})]})}},6661:function(e,t,s){"use strict";s.d(t,{l0:function(){return u},NI:function(){return v},Wi:function(){return m},xJ:function(){return p},lX:function(){return j},zG:function(){return y}});var l=s(7437),r=s(2265),a=s(3355),n=s(9343),c=s(7440),i=s(8837);let d=(0,s(2218).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)(i.f,{ref:t,className:(0,c.cn)(d(),s),...r})});o.displayName=i.f.displayName;let u=n.RV,x=r.createContext({}),m=e=>{let{...t}=e;return(0,l.jsx)(x.Provider,{value:{name:t.name},children:(0,l.jsx)(n.Qr,{...t})})},h=()=>{let e=r.useContext(x),t=r.useContext(f),{getFieldState:s,formState:l}=(0,n.Gc)(),a=s(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:c}=t;return{id:c,name:e.name,formItemId:"".concat(c,"-form-item"),formDescriptionId:"".concat(c,"-form-item-description"),formMessageId:"".concat(c,"-form-item-message"),...a}},f=r.createContext({}),p=r.forwardRef((e,t)=>{let{className:s,...a}=e,n=r.useId();return(0,l.jsx)(f.Provider,{value:{id:n},children:(0,l.jsx)("div",{ref:t,className:(0,c.cn)("space-y-2",s),...a})})});p.displayName="FormItem";let j=r.forwardRef((e,t)=>{let{className:s,...r}=e,{error:a,formItemId:n}=h();return(0,l.jsx)(o,{ref:t,className:(0,c.cn)(a&&"text-destructive",s),htmlFor:n,...r})});j.displayName="FormLabel";let v=r.forwardRef((e,t)=>{let{...s}=e,{error:r,formItemId:n,formDescriptionId:c,formMessageId:i}=h();return(0,l.jsx)(a.g7,{ref:t,id:n,"aria-describedby":r?"".concat(c," ").concat(i):"".concat(c),"aria-invalid":!!r,...s})});v.displayName="FormControl",r.forwardRef((e,t)=>{let{className:s,...r}=e,{formDescriptionId:a}=h();return(0,l.jsx)("p",{ref:t,id:a,className:(0,c.cn)("text-sm text-muted-foreground",s),...r})}).displayName="FormDescription";let y=r.forwardRef((e,t)=>{let{className:s,children:r,...a}=e,{error:n,formMessageId:i}=h(),d=n?String(null==n?void 0:n.message):r;return d?(0,l.jsx)("p",{ref:t,id:i,className:(0,c.cn)("text-sm font-medium text-destructive",s),...a,children:d}):null});y.displayName="FormMessage"}},function(e){e.O(0,[358,898,558,311,897,447,847,971,23,744],function(){return e(e.s=5139)}),_N_E=e.O()}]);