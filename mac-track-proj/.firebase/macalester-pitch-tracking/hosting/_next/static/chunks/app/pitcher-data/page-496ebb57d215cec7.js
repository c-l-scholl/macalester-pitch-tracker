(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{2266:function(e,t,a){Promise.resolve().then(a.bind(a,9798))},9798:function(e,t,a){"use strict";a.d(t,{default:function(){return G}});var s=a(7437),r=a(2265),l=a(6900),n=a(6908),i=a(495);let d=e=>{let{onEdit:t,onDelete:a}=e;return[{accessorKey:"fullName",header:"Pitcher"},{accessorKey:"pitchDate",header:e=>{let{column:t}=e;return(0,s.jsxs)(i.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Date",(0,s.jsx)(l.Z,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t}=e,a=t.getValue("pitchDate").toDate(),r="".concat(a.getMonth()+1,"/").concat(a.getDate(),"/").concat(a.getFullYear());return(0,s.jsx)("div",{className:"text-left font-medium",children:r})}},{accessorKey:"batterHand",header:"Batter"},{accessorKey:"velocity",header:"Velocity",cell:e=>{let{row:t}=e,a=parseFloat(t.getValue("velocity"));return(0,s.jsx)("div",{className:"text-left font-medium",children:"".concat(a," mph")})}},{accessorKey:"pitchType",header:"Pitch Type"},{accessorKey:"result",header:"Result"},{id:"actions",cell:e=>{let{row:r}=e;return(0,s.jsx)(n.Z,{row:r,onEdit:t,onDelete:a})}}]};var c=a(3514),o=a(4175),u=a(6975),h=a(3102);function m(e){var t,a,l;let{columns:n,data:d}=e,[m,f]=(0,r.useState)([]),[x,p]=(0,r.useState)([]),g=(0,c.b7)({data:d,columns:n,getCoreRowModel:(0,o.sC)(),getPaginationRowModel:(0,o.G_)(),onSortingChange:f,getSortedRowModel:(0,o.tj)(),onColumnFiltersChange:p,getFilteredRowModel:(0,o.vL)(),state:{sorting:m,columnFilters:x}});return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center py-4",children:(0,s.jsx)(h.I,{placeholder:"Filter by pitch type...",value:null!==(l=null===(t=g.getColumn("pitchType"))||void 0===t?void 0:t.getFilterValue())&&void 0!==l?l:"",onChange:e=>{var t;return null===(t=g.getColumn("pitchType"))||void 0===t?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"})}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(u.iA,{children:[(0,s.jsx)(u.xD,{children:g.getHeaderGroups().map(e=>(0,s.jsx)(u.SC,{children:e.headers.map(e=>(0,s.jsx)(u.ss,{children:e.isPlaceholder?null:(0,c.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(u.RM,{children:(null===(a=g.getRowModel().rows)||void 0===a?void 0:a.length)?g.getRowModel().rows.map(e=>(0,s.jsx)(u.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,s.jsx)(u.pj,{children:(0,c.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(u.SC,{children:(0,s.jsx)(u.pj,{colSpan:n.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,s.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>g.previousPage(),disabled:!g.getCanPreviousPage(),children:"Previous"}),(0,s.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>g.nextPage(),disabled:!g.getCanNextPage(),children:"Next"})]})]})}var f=a(2278),x=a(9842),p=a(5657),g=a(7269),y=a(7440);let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});j.displayName="Card";let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("flex flex-col space-y-1.5 p-6",a),...r})});v.displayName="CardHeader";let w=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,y.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});w.displayName="CardTitle";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,y.cn)("text-sm text-muted-foreground",a),...r})});b.displayName="CardDescription";let N=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("p-6 pt-0",a),...r})});N.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";let C=e=>{let t=0,a=0,s=0,r=0;return null==e||e.forEach(e=>{"Right"===e.batterHand?(s++,"Ball"!==e.result&&t++):"Left"===e.batterHand&&(r++,"Ball"!==e.result&&a++)}),r=0===r?1:r,s=0===s?1:s,"".concat(Math.round(100*a/r),"% / \n					").concat(Math.round(100*t/s),"%")},S=e=>{let t=0,a=0,s=0,r=0;e.forEach(e=>{if("Right"===e.batterHand)switch(e.result){case"Out":s++;break;case"H":s++,t+=1;break;case"2B":s++,t+=2;break;case"3B":s++,t+=3;break;case"HR":s++,t+=4}else switch(e.result){case"Out":r++;break;case"H":r++,a+=1;break;case"2B":r++,a+=2;break;case"3B":r++,a+=3;break;case"HR":r++,a+=4}});let l=r>0?1e3*a/r:0,n=_(s>0?1e3*t/s:0),i=_(l);return"".concat(i," / ").concat(n)},_=e=>{if(0===e)return".000";let t=String(e);return"".concat(t[0],".").concat(t.substring(1))};var D=e=>{let{pitchType:t,pitchList:a}=e,[l,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[c,o]=(0,r.useState)(""),[u,h]=(0,r.useState)("");return(0,r.useEffect)(()=>{d(null!=a?a:null),i&&i.length>0?(o(C(i)),h(S(i)),n(!0)):n(!1)},[a,i]),(0,s.jsx)("div",{children:l&&(0,s.jsx)("div",{children:(0,s.jsxs)(j,{children:[(0,s.jsxs)(v,{children:[(0,s.jsx)(w,{children:t}),(0,s.jsx)(b,{children:"Stat: vs. Lefty / vs. Righty"})]}),(0,s.jsx)(N,{children:(0,s.jsxs)("p",{children:["K%: ",c]})}),(0,s.jsx)(N,{children:(0,s.jsxs)("p",{children:["SLG: ",u]})})]})})})},R=e=>{let{pitchData:t}=e,[a,l]=(0,r.useState)(null),n=new Map;return(0,r.useEffect)(()=>{if(n.clear(),t&&t.length>0)for(let a of t){var e;let t=null!==(e=n.get(a.pitchType))&&void 0!==e?e:[];t.push(a),n.set(a.pitchType,t)}l(null!=n?n:null)},[t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex flex-col gap-2 w-full",children:a&&Array.from(a.entries()).map(e=>{let[t,a]=e;return(0,s.jsx)("div",{children:(0,s.jsx)(D,{pitchType:a[0].pitchType,pitchList:a})},t)})})})},k=a(6460),P=a(4241),E=a(518),H=a(7592),z=a(3045);function M(e){let{className:t,classNames:a,showOutsideDays:r=!0,...l}=e;return(0,s.jsx)(z._W,{showOutsideDays:r,className:(0,y.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,y.cn)((0,i.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,y.cn)((0,i.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,s.jsx)(E.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,s.jsx)(H.Z,{className:"h-4 w-4"})}},...l})}M.displayName="Calendar";var F=a(8624);let T=F.fC,K=F.xz,O=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:l=4,...n}=e;return(0,s.jsx)(F.h_,{children:(0,s.jsx)(F.VY,{ref:t,align:r,sideOffset:l,className:(0,y.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});O.displayName=F.VY.displayName;var V=e=>{let{date:t,setDate:a}=e,[l,n]=(0,r.useState)(!1);return(0,s.jsxs)(T,{open:l,onOpenChange:n,children:[(0,s.jsx)(K,{asChild:!0,children:(0,s.jsxs)(i.z,{variant:"outline",className:(0,y.cn)("w-[280px] justify-start text-left font-normal",!t&&"text-muted-foreground"),onClick:()=>n(!l),children:[(0,s.jsx)(P.Z,{className:"mr-2 h-4 w-4"}),t?(0,k.WU)(t,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})}),(0,s.jsx)(O,{className:"w-auto p-0",children:(0,s.jsx)(M,{mode:"single",selected:t,onSelect:e=>{void 0!==e?(a(e),n(!1)):a(new Date)},initialFocus:!0})})]})},B=a(7795);let L=e=>(e.setHours(0,0,0,0),x.EK.fromDate(e)),Z=e=>(e.setHours(23,59,59,999),x.EK.fromDate(e)),I=(e,t,a)=>{let s=(0,x.hJ)(f.db,"pitches"),r=L(t),l=Z(t),n=(0,x.IO)(s,(0,x.ar)("fullName","==",e),(0,x.ar)("pitchDate",">=",r),(0,x.ar)("pitchDate","<=",l),(0,x.Xo)("pitchDate","desc"));return(0,x.cf)(n,a)};function G(){let{toast:e}=(0,p.pm)(),[t,a]=(0,r.useState)(!1),[l,n]=(0,r.useState)([]),[i,c]=(0,r.useState)(""),[o,u]=(0,r.useState)(new Date),[h,y]=(0,r.useState)(!1),[j,v]=(0,r.useState)(null),w=e=>{y(!1),e||v(null)},b=d({onEdit:e=>{v(e),y(!0)},onDelete:async t=>{a(!0),w(!1);try{if(void 0!=t.id){let a=(0,x.JU)(f.db,"pitches",t.id);await (0,x.oe)(a),e({description:"Pitch deleted successfully"})}}catch(t){e({title:"Uh oh! Something went wrong.",description:"There was a problem with your pitch deletion attempt. Please try again.",variant:"destructive"})}a(!1)}});return(0,r.useEffect)(()=>{a(!0);let e=I(i,o,e=>{n(e.docs.map(e=>({...e.data(),id:e.id})))});return a(!1),()=>e()},[i,o,n]),(0,s.jsxs)("div",{className:"flex flex-row",children:[(0,s.jsx)("div",{className:"sticky min-w-[300px] border-r min-h-screen items-start",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 p-4 items-start",children:[(0,s.jsx)(B.Z,{setSelectedPitcherName:c}),(0,s.jsx)(V,{date:o,setDate:u}),(0,s.jsx)(R,{pitchData:l})]})}),(0,s.jsxs)("div",{className:"flex-grow p-4 mx-4",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center mb-2",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold ",children:"Pitcher Data"}),(0,s.jsx)(g.Z,{pitchCount:l.length})]}),t&&(0,s.jsx)("span",{children:"Loading"}),!t&&(0,s.jsx)(m,{columns:b,data:l})]})]})}}},function(e){e.O(0,[358,898,558,311,447,210,719,971,23,744],function(){return e(e.s=2266)}),_N_E=e.O()}]);